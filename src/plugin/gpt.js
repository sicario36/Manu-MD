const _0x301e5e=_0x32f5;(function(_0xe39fe4,_0x4b0663){const _0x41616f=_0x32f5,_0x28060d=_0xe39fe4();while(!![]){try{const _0x242368=-parseInt(_0x41616f(0x16c))/(-0x1*0x134b+-0x1f7e+0x32ca)*(-parseInt(_0x41616f(0x1cb))/(0x1b*0x10a+0x25d6+-0x41e2))+parseInt(_0x41616f(0x1aa))/(-0x1bdf*0x1+0x262+0x330*0x8)*(parseInt(_0x41616f(0x1e1))/(-0x740*0x2+0x7*0x35f+-0x19*0x5d))+-parseInt(_0x41616f(0x199))/(-0xe93+0x1*-0x352+0x11ea)+parseInt(_0x41616f(0x1d2))/(-0x1afd+-0xe21+0x1492*0x2)+parseInt(_0x41616f(0x16d))/(-0x68b+-0x719+0xdab)+-parseInt(_0x41616f(0x192))/(0x1*0x1795+-0x489+-0x1304)*(-parseInt(_0x41616f(0x1a6))/(-0x19a2+-0x182*0xa+0x28bf))+-parseInt(_0x41616f(0x1d1))/(-0x30+0x11e5+0x1*-0x11ab);if(_0x242368===_0x4b0663)break;else _0x28060d['push'](_0x28060d['shift']());}catch(_0x5da79c){_0x28060d['push'](_0x28060d['shift']());}}}(_0x16fa,-0x3ad9b*0x1+-0x1*0x6b43d+0x46e3*0x3a));import{promises as _0x5b6e98}from'fs';import _0x16896c from'path';import _0x363709 from'node-fetch';import _0x1270f7 from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=_0x1270f7,__filename=new URL(import.meta[_0x301e5e(0x19d)])[_0x301e5e(0x1dc)],__dirname=_0x16896c[_0x301e5e(0x1df)](__filename),chatHistoryFile=_0x16896c[_0x301e5e(0x19c)](__dirname,_0x301e5e(0x1d4)+_0x301e5e(0x180)+_0x301e5e(0x1ab)),mistralSystemPrompt=_0x301e5e(0x18e)+_0x301e5e(0x1cc)+_0x301e5e(0x17c);async function readChatHistoryFromFile(){const _0x46ea58=_0x301e5e,_0x2cbb92={'kGmla':_0x46ea58(0x1ae)};try{const _0x30b05b=await _0x5b6e98[_0x46ea58(0x194)](chatHistoryFile,_0x2cbb92[_0x46ea58(0x186)]);return JSON[_0x46ea58(0x1be)](_0x30b05b);}catch(_0xe3ebb8){return{};}}function _0x16fa(){const _0xd4d744=['Something\x20','push','_history.j','qxKxI','>\x20¬©\x20Powere','\x20ùêéùêüùêüùê¢ùêúùê¢ùêöùê•','slice','ATiXi','kGmla','jJaXs','writeFile','\x20successfu','file:','mMEWr','KJaIK','sendMessag','you\x20are\x20a\x20','tech/api/a','from','instruct','2344016ahjQjI','hf/meta-ll','readFile','match','daRwT','vtrWQ','!\x20status:\x20','2121310fJatQn','JlxQA','VUdMd','resolve','url','Conversati','eMessage','lly','e\x20me\x20a\x20pro','RKCgk','gpt','Please\x20giv','oesCs','9GTYBfH','shift','Copy\x20Your\x20','VcctZ','215169MzSrmt','son','ation','Error\x20writ','utf-8','length','assistant','response','applicatio','text-gener','NativeFlow','Code','YZbQD','sender','includes','startsWith','ama/meta-l','React','Message','json','parse','mxxOT','Header','toLowerCas','copy_code','mpt','cta_copy','went\x20wrong','HYwge','QpXte','on\x20deleted','body','n/json','78sMruLK','good\x20assis','message','relayMessa','key','trim','5353920dvrlhB','1769406fDHVaA','psEvk','../mistral','trixcoder.','PDXmN','Error:\x20','OLUEe','ing\x20chat\x20h','split','d\x20By\x20ùêåùêöùêßùêÆùê•','pathname','remoteJid','system','dirname','POST','8LAlhjF','result','Body','ghXLP','/forget','Footer','XAYiM','uKhTZ','YaAkk','HTTP\x20error','ipNXX','lama-3-8b-','Interactiv','1716deavxO','3734493FrGCcl','status','stringify','JrcPV','ZoITs','mistral','create','mbRqE','istory\x20to\x20','yviNC','https://ma','PaTiZ','UzgJM','user','VDTol','tant.','error'];_0x16fa=function(){return _0xd4d744;};return _0x16fa();}function _0x32f5(_0x27d65f,_0x26ed04){const _0xf7109e=_0x16fa();return _0x32f5=function(_0x3d721d,_0x593a8a){_0x3d721d=_0x3d721d-(0x156a+0x151*-0x4+-0x2*0x75e);let _0x6baca1=_0xf7109e[_0x3d721d];return _0x6baca1;},_0x32f5(_0x27d65f,_0x26ed04);}async function writeChatHistoryToFile(_0x3a151d){const _0x28e502=_0x301e5e,_0x36083c={'JrcPV':_0x28e502(0x1ad)+_0x28e502(0x1d9)+_0x28e502(0x175)+_0x28e502(0x18a)};try{await _0x5b6e98[_0x28e502(0x188)](chatHistoryFile,JSON[_0x28e502(0x16f)](_0x3a151d,null,-0x11+-0x1948+0x195b));}catch(_0x43d5e1){console[_0x28e502(0x17d)](_0x36083c[_0x28e502(0x170)],_0x43d5e1);}}async function updateChatHistory(_0x24cfa7,_0x5a4332,_0x468d5c){const _0x36c9ca=_0x301e5e,_0x31f22c={'ATiXi':function(_0x5f0f55,_0x3c3c57){return _0x5f0f55>_0x3c3c57;},'YZbQD':function(_0x5f2c8d,_0x348aa8){return _0x5f2c8d(_0x348aa8);}};!_0x24cfa7[_0x5a4332]&&(_0x24cfa7[_0x5a4332]=[]),_0x24cfa7[_0x5a4332][_0x36c9ca(0x17f)](_0x468d5c),_0x31f22c[_0x36c9ca(0x185)](_0x24cfa7[_0x5a4332][_0x36c9ca(0x1af)],0x1a63+0x20f*-0xb+-0x3aa)&&_0x24cfa7[_0x5a4332][_0x36c9ca(0x1a7)](),await _0x31f22c[_0x36c9ca(0x1b6)](writeChatHistoryToFile,_0x24cfa7);}async function deleteChatHistory(_0x3ee7a1,_0x4f8c08){const _0x34dd42=_0x301e5e,_0x1cec18={'ipNXX':function(_0x2a1604,_0x91ecd0){return _0x2a1604(_0x91ecd0);}};delete _0x3ee7a1[_0x4f8c08],await _0x1cec18[_0x34dd42(0x1eb)](writeChatHistoryToFile,_0x3ee7a1);}const mistral=async(_0x167ac0,_0x577b97)=>{const _0x53cf68=_0x301e5e,_0x1cf614={'HYwge':function(_0xa446bf){return _0xa446bf();},'VcctZ':function(_0x223981,_0x46e07f){return _0x223981===_0x46e07f;},'mMEWr':_0x53cf68(0x1e5),'VDTol':function(_0x1aee00,_0x2254ca,_0x27634d){return _0x1aee00(_0x2254ca,_0x27634d);},'XAYiM':_0x53cf68(0x19e)+_0x53cf68(0x1c8)+_0x53cf68(0x189)+_0x53cf68(0x1a0),'OLUEe':function(_0x1aef96,_0x4bf156){return _0x1aef96+_0x4bf156;},'vtrWQ':_0x53cf68(0x1a3),'PDXmN':_0x53cf68(0x172),'YaAkk':_0x53cf68(0x1a4)+_0x53cf68(0x1a1)+_0x53cf68(0x1c3),'mxxOT':_0x53cf68(0x1de),'qxKxI':_0x53cf68(0x17a),'KJaIK':function(_0x23fb89,_0x5a0493,_0x24319b){return _0x23fb89(_0x5a0493,_0x24319b);},'yviNC':_0x53cf68(0x177)+_0x53cf68(0x1d5)+_0x53cf68(0x18f)+'i','ZoITs':_0x53cf68(0x1e0),'uKhTZ':_0x53cf68(0x1b2)+_0x53cf68(0x1ca),'ghXLP':_0x53cf68(0x1b3)+_0x53cf68(0x1ac),'daRwT':_0x53cf68(0x193)+_0x53cf68(0x1ba)+_0x53cf68(0x16a)+_0x53cf68(0x191),'JlxQA':function(_0xe507d1,_0x16b3f2,_0x13c685,_0x418622){return _0xe507d1(_0x16b3f2,_0x13c685,_0x418622);},'QpXte':function(_0x64eaa2,_0x4f30d0,_0x26e311,_0x2cc562){return _0x64eaa2(_0x4f30d0,_0x26e311,_0x2cc562);},'mbRqE':_0x53cf68(0x1b0),'oesCs':function(_0x9a11f3,_0xd302b0,_0x35d353,_0xc0ecfb){return _0x9a11f3(_0xd302b0,_0x35d353,_0xc0ecfb);},'VUdMd':_0x53cf68(0x182)+_0x53cf68(0x1db)+_0x53cf68(0x183),'jJaXs':_0x53cf68(0x1c4),'PaTiZ':_0x53cf68(0x1a8)+_0x53cf68(0x1b5),'UzgJM':_0x53cf68(0x1c2),'psEvk':_0x53cf68(0x17e)+_0x53cf68(0x1c5),'RKCgk':_0x53cf68(0x1d7)},_0x446842=await _0x1cf614[_0x53cf68(0x1c6)](readChatHistoryFromFile),_0x482f0f=_0x167ac0[_0x53cf68(0x1c9)][_0x53cf68(0x1c1)+'e']();if(_0x1cf614[_0x53cf68(0x1a9)](_0x482f0f,_0x1cf614[_0x53cf68(0x18b)])){await _0x1cf614[_0x53cf68(0x17b)](deleteChatHistory,_0x446842,_0x167ac0[_0x53cf68(0x1b7)]),await _0x577b97[_0x53cf68(0x18d)+'e'](_0x167ac0[_0x53cf68(0x190)],{'text':_0x1cf614[_0x53cf68(0x1e7)]},{'quoted':_0x167ac0});return;}const _0x1c7ed5=_0x167ac0[_0x53cf68(0x1c9)][_0x53cf68(0x195)](/^[\\/!#.]/),_0x5606b1=_0x1c7ed5?_0x1c7ed5[-0x1546+0x7*0x76+0x120c]:'/',_0x5707b6=_0x167ac0[_0x53cf68(0x1c9)][_0x53cf68(0x1b9)](_0x5606b1)?_0x167ac0[_0x53cf68(0x1c9)][_0x53cf68(0x184)](_0x5606b1[_0x53cf68(0x1af)])[_0x53cf68(0x1da)]('\x20')[-0x1b7c+-0x7bb+0x3*0xbbd][_0x53cf68(0x1c1)+'e']():'',_0x11019a=_0x167ac0[_0x53cf68(0x1c9)][_0x53cf68(0x184)](_0x1cf614[_0x53cf68(0x1d8)](_0x5606b1[_0x53cf68(0x1af)],_0x5707b6[_0x53cf68(0x1af)]))[_0x53cf68(0x1d0)]()[_0x53cf68(0x1c1)+'e'](),_0x20164c=['ai',_0x1cf614[_0x53cf68(0x197)],_0x1cf614[_0x53cf68(0x1d6)]];if(_0x20164c[_0x53cf68(0x1b8)](_0x5707b6)){if(!_0x11019a){await _0x577b97[_0x53cf68(0x18d)+'e'](_0x167ac0[_0x53cf68(0x190)],{'text':_0x1cf614[_0x53cf68(0x1e9)]},{'quoted':_0x167ac0});return;}try{const _0x47ae56=_0x446842[_0x167ac0[_0x53cf68(0x1b7)]]||[],_0x2a8521=[{'role':_0x1cf614[_0x53cf68(0x1bf)],'content':mistralSystemPrompt},..._0x47ae56,{'role':_0x1cf614[_0x53cf68(0x181)],'content':_0x11019a}];await _0x167ac0[_0x53cf68(0x1bb)]('‚è≥');const _0x5822b1=await _0x1cf614[_0x53cf68(0x18c)](_0x363709,_0x1cf614[_0x53cf68(0x176)],{'method':_0x1cf614[_0x53cf68(0x171)],'headers':{'Content-Type':_0x1cf614[_0x53cf68(0x1e8)]},'body':JSON[_0x53cf68(0x16f)]({'type':_0x1cf614[_0x53cf68(0x1e4)],'model':_0x1cf614[_0x53cf68(0x196)],'messages':_0x2a8521})});if(!_0x5822b1['ok'])throw new Error(_0x53cf68(0x1ea)+_0x53cf68(0x198)+_0x5822b1[_0x53cf68(0x16e)]);const _0x231d61=await _0x5822b1[_0x53cf68(0x1bd)]();await _0x1cf614[_0x53cf68(0x19a)](updateChatHistory,_0x446842,_0x167ac0[_0x53cf68(0x1b7)],{'role':_0x1cf614[_0x53cf68(0x181)],'content':_0x11019a}),await _0x1cf614[_0x53cf68(0x1c7)](updateChatHistory,_0x446842,_0x167ac0[_0x53cf68(0x1b7)],{'role':_0x1cf614[_0x53cf68(0x174)],'content':_0x231d61[_0x53cf68(0x1e2)][_0x53cf68(0x1b1)]});const _0x2338a2=_0x231d61[_0x53cf68(0x1e2)][_0x53cf68(0x1b1)],_0x72a077=_0x2338a2[_0x53cf68(0x195)](/```([\s\S]*?)```/);if(_0x72a077){const _0x4f3c5d=_0x72a077[-0x1dc1+0xa81+-0x3*-0x66b];let _0x272ddf=_0x1cf614[_0x53cf68(0x1a5)](generateWAMessageFromContent,_0x167ac0[_0x53cf68(0x190)],{'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':proto[_0x53cf68(0x1bc)][_0x53cf68(0x16b)+_0x53cf68(0x19f)][_0x53cf68(0x173)]({'body':proto[_0x53cf68(0x1bc)][_0x53cf68(0x16b)+_0x53cf68(0x19f)][_0x53cf68(0x1e3)][_0x53cf68(0x173)]({'text':_0x2338a2}),'footer':proto[_0x53cf68(0x1bc)][_0x53cf68(0x16b)+_0x53cf68(0x19f)][_0x53cf68(0x1e6)][_0x53cf68(0x173)]({'text':_0x1cf614[_0x53cf68(0x19b)]}),'header':proto[_0x53cf68(0x1bc)][_0x53cf68(0x16b)+_0x53cf68(0x19f)][_0x53cf68(0x1c0)][_0x53cf68(0x173)]({'title':'','subtitle':'','hasMediaAttachment':![]}),'nativeFlowMessage':proto[_0x53cf68(0x1bc)][_0x53cf68(0x16b)+_0x53cf68(0x19f)][_0x53cf68(0x1b4)+_0x53cf68(0x1bc)][_0x53cf68(0x173)]({'buttons':[{'name':_0x1cf614[_0x53cf68(0x187)],'buttonParamsJson':JSON[_0x53cf68(0x16f)]({'display_text':_0x1cf614[_0x53cf68(0x178)],'id':_0x1cf614[_0x53cf68(0x179)],'copy_code':_0x4f3c5d})}]})})}}},{});await _0x577b97[_0x53cf68(0x1ce)+'ge'](_0x272ddf[_0x53cf68(0x1cf)][_0x53cf68(0x1dd)],_0x272ddf[_0x53cf68(0x1cd)],{'messageId':_0x272ddf[_0x53cf68(0x1cf)]['id']});}else await _0x577b97[_0x53cf68(0x18d)+'e'](_0x167ac0[_0x53cf68(0x190)],{'text':_0x2338a2},{'quoted':_0x167ac0});await _0x167ac0[_0x53cf68(0x1bb)]('‚úÖ');}catch(_0x43c04d){await _0x577b97[_0x53cf68(0x18d)+'e'](_0x167ac0[_0x53cf68(0x190)],{'text':_0x1cf614[_0x53cf68(0x1d3)]},{'quoted':_0x167ac0}),console[_0x53cf68(0x17d)](_0x1cf614[_0x53cf68(0x1a2)],_0x43c04d),await _0x167ac0[_0x53cf68(0x1bb)]('‚ùå');}}};export default mistral;